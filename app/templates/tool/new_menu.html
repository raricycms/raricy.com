{% extends "base.html" %}
{% block title %}
工具目录 - raricy.com
{% endblock %}

{% block extra_css %}
<style>
.tool-new-hero {
    background: linear-gradient(135deg, var(--color-background-page) 0%, var(--color-background-card) 100%);
    border-bottom: 1px solid var(--color-border);
    padding: 3rem 0;
}

.tool-new-hero__title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: var(--color-text-primary);
}

.tool-new-hero__description {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    margin-bottom: 2rem;
    line-height: 1.6;
}

.tool-new-hero__search {
    max-width: 500px;
    margin-bottom: 1.5rem;
}

.search-input {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
    background: var(--color-background-card);
    color: var(--color-text-primary);
    font-size: 1rem;
    transition: all 0.2s ease;
}

.search-input:focus {
    outline: none;
    border-color: var(--color-brand-primary);
    box-shadow: 0 0 0 3px var(--color-brand-secondary);
}

.search-input::placeholder {
    color: var(--color-text-secondary);
}

.tool-new-hero__filters {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.filter-pill {
    padding: 0.5rem 1rem;
    border: 1px solid var(--color-border);
    border-radius: 999px;
    background: var(--color-background-card);
    color: var(--color-text-secondary);
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.filter-pill:hover {
    border-color: var(--color-brand-primary);
    color: var(--color-brand-primary);
}

.filter-pill.active {
    background: var(--color-brand-primary);
    border-color: var(--color-brand-primary);
    color: white;
}

.tool-new-grid {
    padding: 3rem 0;
}

.tool-new-grid__section {
    margin-bottom: 3rem;
}

.tool-new-grid__section-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    color: var(--color-text-primary);
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--color-border);
}

.tool-new-grid__tools {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1rem;
}

.tool-new-card {
    background: var(--color-background-card);
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
    padding: 1.5rem;
    transition: all 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.tool-new-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-card-brand);
    border-color: var(--color-brand-primary);
}

.tool-new-card__header {
    margin-bottom: 0.75rem;
}

.tool-new-card__header-info .title {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    color: var(--color-text-primary);
    line-height: 1.3;
}

.tool-new-card__header-info .description {
    font-size: 0.875rem;
    color: var(--color-text-secondary);
    line-height: 1.4;
}

.tool-new-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
    margin-bottom: 0.75rem;
}

.tag {
    padding: 0.25rem 0.5rem;
    background: var(--color-background-page);
    border: 1px solid var(--color-border);
    border-radius: 0.25rem;
    font-size: 0.75rem;
    color: var(--color-text-secondary);
}

.tag.tag-primary {
    background: var(--color-brand-secondary);
    border-color: rgba(59, 130, 246, 0.2);
    color: var(--color-brand-primary);
}

.tool-new-card__footer {
    margin-top: auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.tool-new-card__footer .btn {
    padding: 0.5rem 1rem;
    background: var(--color-brand-primary);
    color: white;
    border: none;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s ease;
}

.tool-new-card__footer .btn:hover {
    background: var(--color-brand-primary);
    transform: translateY(-1px);
    opacity: 0.9;
}

.tool-new-empty {
    text-align: center;
    padding: 3rem 0;
    color: var(--color-text-secondary);
}

.tool-new-empty__icon {
    font-size: 3rem;
    margin-bottom: 0.75rem;
    opacity: 0.5;
}

.tool-new-empty__text {
    font-size: 1.125rem;
    margin-bottom: 0.5rem;
}

.tool-new-empty__subtext {
    font-size: 0.875rem;
    opacity: 0.7;
}

@media (max-width: 768px) {
    .tool-new-hero {
        padding: 2rem 0;
    }
    
    .tool-new-hero__title {
        font-size: 2rem;
    }
    
    .tool-new-grid {
        padding: 2rem 0;
    }
    
    .tool-new-grid__tools {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="tool-new">
    <!-- Hero Section -->
    <section class="tool-new-hero">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h1 class="tool-new-hero__title">工具箱</h1>
                    <p class="tool-new-hero__description">
                        常用编码、加密和数据处理工具的整合平台，助你更高效地完成开发与日常工作。
                    </p>
                    
                    <div class="tool-new-hero__search">
                        <input type="text" class="search-input" id="tool-search" 
                               placeholder="搜索工具或类别，例如：Base64、AES、哈希…" 
                               aria-label="搜索工具">
                    </div>
                    
                    <div class="tool-new-hero__filters">
                        <span class="filter-pill active" data-filter="all">全部</span>
                        <span class="filter-pill" data-filter="codec">编码/解码</span>
                        <span class="filter-pill" data-filter="crypto">加密/安全</span>
                        <span class="filter-pill" data-filter="other">其它工具</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tools Grid -->
    <section class="tool-new-grid">
        <div class="container">
            <!-- 编码/解码工具 -->
            <div class="tool-new-grid__section" data-category="codec">
                <h2 class="tool-new-grid__section-title">编码 / 解码工具</h2>
                <div class="tool-new-grid__tools">
                    <!-- Base 编码 -->
                    <div class="tool-new-card" data-groups="codec" data-keywords="base base16 base 16 hex base32 base 32 base36 base 36 base58 base 58 base62 base 62 base64 base 64 base85 base 85 base91 base 91 base92 base 92 编码 解码">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">Base 编码</div>
                                <div class="description">Base16 / 32 / 36 / 58 / 62 / 64 / 85 / 91 / 92</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">Base16</span>
                            <span class="tag">Base32</span>
                            <span class="tag">Base36</span>
                            <span class="tag">Base58</span>
                            <span class="tag">Base62</span>
                            <span class="tag tag-primary">Base64</span>
                            <span class="tag">Base85</span>
                            <span class="tag">Base91</span>
                            <span class="tag">Base92</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.base') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>

                    <!-- Hex 编码 -->
                    <div class="tool-new-card" data-groups="codec" data-keywords="hex 十六进制 字节 bytes 0x 编码 解码 转换">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">Hex 编码</div>
                                <div class="description">十六进制与字节流互转</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">Hex</span>
                            <span class="tag">Bytes</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.hex_page') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>

                    <!-- URL 编码 -->
                    <div class="tool-new-card" data-groups="codec" data-keywords="URL 编码 解码 percent-encode query">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">URL 编码</div>
                                <div class="description">URL 百分号编码/解码</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">URL</span>
                            <span class="tag">Web</span>
                            <span class="tag">编码</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.url_page') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>

                    <!-- HTML 编码 -->
                    <div class="tool-new-card" data-groups="codec" data-keywords="HTML 实体 entity 转义 escape &nbsp; &lt; &gt; &amp;">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">HTML 编码</div>
                                <div class="description">HTML 实体编码/解码，支持常用符号和特殊字符</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">Entity</span>
                            <span class="tag">Escape</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.html_page') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>

                    <!-- Quoted-printable 编码 -->
                    <div class="tool-new-card" data-groups="codec" data-keywords="quoted-printable MIME RFC2045 qp 邮件 编码 解码">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">Quoted-printable 编码</div>
                                <div class="description">邮件 MIME Quoted-Printable 编/解码</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">MIME</span>
                            <span class="tag">RFC2045</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.qp_page') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 加密/安全工具 -->
            <div class="tool-new-grid__section" data-category="crypto">
                <h2 class="tool-new-grid__section-title">加密 / 安全工具</h2>
                <div class="tool-new-grid__tools">
                    <!-- 哈希计算器 -->
                    <div class="tool-new-card" data-groups="crypto" data-keywords="hash 哈希 校验 SHA256 SHA-256 SHA1 SHA-1 SHA512 SHA-512 MD5 BLAKE2 CRC32 校验和">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">哈希计算</div>
                                <div class="description">SHA-256 / SHA-1 / SHA-512 / MD5 等</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">SHA-256</span>
                            <span class="tag">SHA-1</span>
                            <span class="tag">SHA-512</span>
                            <span class="tag">MD5</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.hash_page') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>

                    <!-- AES -->
                    <div class="tool-new-card" data-groups="crypto" data-keywords="AES 加密 解密 对称 密钥 CBC GCM CTR 填充">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">AES</div>
                                <div class="description">常见模式（CBC/CTR/GCM）与填充</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">AES</span>
                            <span class="tag">安全</span>
                            <span class="tag">密钥</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.aes_page') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 其它工具 -->
            <div class="tool-new-grid__section" data-category="other">
                <h2 class="tool-new-grid__section-title">其它工具</h2>
                <div class="tool-new-grid__tools">
                    <!-- Cattca -->
                    <div class="tool-new-card" data-groups="other" data-keywords="cattca 工具">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">Cattca</div>
                                <div class="description">其他工具功能</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">工具</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('tool.cattca_page') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>

                    <!-- 云剪贴板 -->
                    <div class="tool-new-card" data-groups="other" data-keywords="云剪贴板 clipboard 云端 文本 分享">
                        <div class="tool-new-card__header">
                            <div class="tool-new-card__header-info">
                                <div class="title">云剪贴板</div>
                                <div class="description">云端文本存储与分享</div>
                            </div>
                        </div>
                        <div class="tool-new-card__tags">
                            <span class="tag">云端</span>
                            <span class="tag">分享</span>
                            <span class="tag">文本</span>
                        </div>
                        <div class="tool-new-card__footer">
                            <a class="btn" href="{{ url_for('clip.menu') }}">开始使用</a>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Search and filter functionality
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('tool-search');
    const filterPills = document.querySelectorAll('.filter-pill');
    const toolCards = document.querySelectorAll('.tool-new-card');
    const toolSections = document.querySelectorAll('.tool-new-grid__section');
    
    // Filter pills functionality
    filterPills.forEach(pill => {
        pill.addEventListener('click', function() {
            const filter = this.getAttribute('data-filter');
            
            // Update active state
            filterPills.forEach(p => p.classList.remove('active'));
            this.classList.add('active');
            
            // Filter tools
            filterTools(filter, searchInput.value);
        });
    });
    
    // Search functionality
    searchInput.addEventListener('input', function() {
        const activeFilter = document.querySelector('.filter-pill.active').getAttribute('data-filter');
        filterTools(activeFilter, this.value);
    });
    
    function filterTools(categoryFilter, searchTerm) {
        let visibleTools = 0;
        
        toolCards.forEach(card => {
            const groups = card.getAttribute('data-groups');
            const keywords = card.getAttribute('data-keywords').toLowerCase();
            const searchLower = searchTerm.toLowerCase();
            
            const matchesCategory = categoryFilter === 'all' || groups.includes(categoryFilter);
            const matchesSearch = !searchTerm || keywords.includes(searchLower);
            
            if (matchesCategory && matchesSearch) {
                card.style.display = 'flex';
                visibleTools++;
            } else {
                card.style.display = 'none';
            }
        });
        
        // Show/hide sections based on visible tools
        toolSections.forEach(section => {
            const sectionTools = section.querySelectorAll('.tool-new-card');
            const visibleSectionTools = Array.from(sectionTools).filter(card => 
                card.style.display !== 'none'
            ).length;
            
            if (visibleSectionTools > 0) {
                section.style.display = 'block';
            } else {
                section.style.display = 'none';
            }
        });
        
        // Show empty state if no tools match
        const emptyState = document.querySelector('.tool-new-empty');
        if (visibleTools === 0) {
            if (!emptyState) {
                createEmptyState();
            }
        } else if (emptyState) {
            emptyState.remove();
        }
    }
    
    function createEmptyState() {
        const grid = document.querySelector('.tool-new-grid .container');
        const emptyState = document.createElement('div');
        emptyState.className = 'tool-new-empty';
        emptyState.innerHTML = `
            <div class="tool-new-empty__icon">

            </div>
            <div class="tool-new-empty__text">未找到匹配的工具</div>
            <div class="tool-new-empty__subtext">尝试使用不同的关键词或筛选条件</div>
        `;
        grid.appendChild(emptyState);
    }
});
</script>
{% endblock %}

{% block footer_text %}
{% endblock %}