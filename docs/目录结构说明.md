### 目录结构说明（SCSS 分层与命名）

本文档定义前端样式在本项目中的目录组织、分层原则与命名约定，用于支撑组件化与可维护性。此说明与《工具链配置说明》配套使用。

---

## 目标
- 清晰分层：abstracts/base/layout/components/utilities/pages/themes/vendors
- 组件以 BEM 命名为主，少量高价值 Utility（前缀 `u-`）
- 页面样式与组件样式解耦，避免互相污染

## 目录结构（目标形态）
```
static/
  scss/                  # SCSS 源码（只在此开发）
    abstracts/           # 设计令牌与工具，仅被引用
      _variables.scss    # 颜色、间距、字号、圆角、阴影、z-index、断点、容器宽度
      _mixins.scss       # 常用 mixin（媒体查询、文本截断、渐变、栅格辅助）
      _functions.scss    # SCSS 函数（色彩调整、单位换算等）
      _breakpoints.scss  # 断点常量与响应式 mixin
    base/
      _reset.scss        # Reset 或 Normalize（选其一）
      _typography.scss   # 字体家族、字号体系、标题/段落/链接等
      _forms.scss        # 表单控件基础样式
    layout/
      _container.scss    # 容器宽度、边距
      _grid.scss         # 栅格系统（简易 Flex/Grid）
      _header.scss       # 站点头部布局
      _footer.scss       # 站点底部布局
    components/          # 可复用组件（BEM 为主）
      _button.scss
      _navbar.scss
      _modal.scss
      _card.scss
      _alert.scss
      _form-controls.scss
    utilities/           # 高价值工具类（原子类，控制数量）
      _spacing.scss      # 外内边距工具类（如 .u-mt-8）
      _display.scss      # 显示/隐藏（.u-hidden/.u-inline/.u-block）
      _flex.scss         # Flex 布局工具（.u-flex/.u-items-center 等）
      _text.scss         # 文本工具（截断、对齐、换行）
    pages/               # 页面特有样式（仅放页面专属）
      _home.scss
      _blog.scss
      _auth.scss
      _notifications.scss
      _story.scss
      _tool.scss
      _sitemap.scss
    themes/              # 主题（可选）
      _dark.scss
    vendors/             # 第三方（需少量覆写才放此处）
      _pygments.scss
    main.scss            # 入口：按顺序引入各层

  css/                   # 构建产物（不要手改）
    main.css             # 开发产物（含 SourceMap）
    main.min.css         # 生产产物（压缩 + 前缀）
    vendors/             # 第三方原样式（必要时保留）

# 注：不处理 static/css/quandi 与 static/css/xingkong（后续下线）
```

## import 顺序（在 `main.scss`）
建议固定以下顺序，确保特异性与覆盖关系稳定：
1) `abstracts`（变量/函数/mixin/断点，先行）
2) `base`（全局基线）
3) `layout`（布局与栅格）
4) `components`（通用组件）
5) `utilities`（工具类，慎用）
6) `pages`（页面特有样式）
7) `themes`（可选主题）
8) `vendors` 覆写（如需对第三方微调）

## 命名与规范
- 组件（BEM）：`block`、`block__element`、`block--modifier`
  - 示例：`card`、`card__title`、`card--featured`
  - 状态/尺寸使用修饰符；避免把页面语义放入组件
- 工具类（Utility）：前缀 `u-`，仅保留高价值集合
  - 示例：`.u-mt-8 .u-flex .u-items-center .u-hidden`
  - 通过白名单方式控制数量，避免无序增长
- SCSS 嵌套：最多两层，避免高特异性选择器
- 禁止 `!important`（除非在 `utilities` 明确定义且有充分理由）
- 变量优先：颜色、间距、字号等全部走设计令牌，避免硬编码

## 页面与组件边界
- 页面专属样式只能写在 `pages/`；不要反向写入组件层
- 复用性出现时，将样式上提到 `components/` 或 `layout/`
- 组件内不要依赖页面上下文（避免耦合）

## 第三方样式策略
- 不改动第三方原文件；必要时在 `vendors/` 增量覆写
- 模板中引用第三方 CSS 时，放在我们的 `main.css` 之前或之后视需求决定
- `pygments-*.css` 如无需定制，可继续作为独立 CSS 引用

## 与 Bootstrap 的关系
- 若完全移除 Bootstrap：用 `layout/` 与 `components/` 提供替代类
- 若短期本地化：置于 `static/vendor/bootstrap/`，并在其后加载 `main.css` 逐步替换

## 验收与质量
- Stylelint 通过；无深层嵌套与高特异性
- 组件命名与对照文档一致；无“幽灵样式”
- 模板统一引用 `main.css`（开发）或 `main.min.css`（生产）


