### 初始化过程省流（直接复制以下代码，并在终端运行即可）
```bash
pip install -r requirements.txt
npm install
mv example.env .env
python check_instance.py
flask db upgrade
```


# 环境
1. 检查 python (3.8+) 与 node 环境
2. 安装必要的 python 库：`pip install -r requirements.txt`
3. 安装必要的 npm 库：`npm install`
4. 环境变量：将 `example.env` 重命名为 `.env`

# 数据库
1. 建立文件夹：`python check_instance.py`
2. 初始化 sqlite 数据库：`flask db upgrade`

# 运行
`python run.py`

# 管理
## 博客管理
在终端输入 `flask` 查看如何更改用户权限
## 故事管理
见 `README.md`

# 开发
样式构建（SCSS → CSS）
开发（watch）：
```powershell
.\scripts\build_scss.ps1 -Mode dev -Watch
```
或
```bash
sass --style=expanded --source-map static/scss/main.scss static/css/main.css --load-path=static/scss --watch
```

生产（编译 + 前缀 + 压缩）：
```bash
sass --style=expanded static/scss/main.scss static/css/main.css --no-source-map --load-path=static/scss
postcss static/css/main.css --use autoprefixer --no-map | postcss --use cssnano --no-map > static/css/main.min.css
```
或
```bash
./build_scss.sh prod
```
